/****************************************************************************************************/
/*                                           INCLUDE                                                */
/****************************************************************************************************/
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "list.h"
/****************************************************************************************************/
/*                                           DEFINES                                                */
/****************************************************************************************************/
typedef struct _list_node
{
	int data;
	struct list_head list;
} LISTNODE;
/****************************************************************************************************/
/*                                           VARIABLES                                              */
/****************************************************************************************************/
LIST_HEAD(test_list);
/****************************************************************************************************/
/*                                       STATIC FUNCTIONS                                           */
/****************************************************************************************************/

/****************************************************************************************************/
/*                                       PUBLIC FUNCTIONS                                           */
/****************************************************************************************************/
int main(int argc, char *argv[])
{	
	LISTNODE *node;
	LISTNODE *tmp;
	int i;

	for (i = 0; i < 5; i++)
	{
		node = malloc(sizeof(LISTNODE));
		if (NULL == node)
		{
			break;
		}
		memset(node, 0, sizeof(LISTNODE));
		node->data = i;
		INIT_LIST_HEAD(&node->list);
		list_add_tail(&node->list, &test_list);
	}

	list_for_each_entry_safe(node, tmp, &test_list, list)
	{
		printf("Data=%d\n", node->data);
		free(node);
	}
	return 0;
}
